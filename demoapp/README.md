# Malwarelytics Cordova Demo Application

## Before you start - Prerequisities

1. Cordova requires Java 8 to be set for the shell (command line) you're about to use.
2. [Install npm](https://www.npmjs.com/get-npm) on your computer (if not already installed).
3. Install cordova (if not already installed) via `npm install -g cordova`.
4. Put Antivirus SDK file `antivirus-0.10.1.aar` to `plugin/src/android` folder.
5. Put your Malwarelytics application credentials into `plugin/src/android/MalwarelyticsCredentials.kt` file.

## Build and run the app

### The simple way

We prepared simple "do-it-all" script that, if you met all prerequisities, will prepare, build and run the app.

Simply use following command inside the `demoapp` folder:
```
npm run makeAndRunDemoAppOnEmulator
```
to build and start the app on the emulator

or

```
npm run makeAndRunDemoAppOnDevice
```
to build and start the app on the device. __Make sure that your device is connected.__

### Step by step

0. Verify that you are using JAVA 8 with `echo $JAVA_HOME` (or `echo %JAVA_HOME%` on windows)
1. In terminal (or command line), go to `demoapp` folder.
2. Run `npm install` to install all npm packages
3. Prepare android version with `cordova platforms add android` command.
4. Install malwarelytics plugin by running `cordova plugin add ../plugin`
5. Run `npm run patchGradleFile` to patch gradle file that is generated by cordova.
6. Run the app on device with `npm run startDevice` or emulator `npm run startEmulator`