
class __MPWrapper {
    readonly pluginName = "MalwarelyticsPlugin";

    constructor() {}
  
    call<T>(name: string, success: successCallback<T>, error: errorCallback, ...args) {
      cordova.exec(success, this.createFailCallback(error), this.pluginName, name, args);
    }
  
    private createFailCallback(error: errorCallback): (data: any) => void {
      return (data: any) => {
        if (error) {
          error(new MalwarelyticsError(data as MalwarelyticsErrorType, ""))
        }
      }
    }
  }